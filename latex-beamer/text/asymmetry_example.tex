%!TEX TS-program = ../make.zsh

\begin{frame}[fragile]{Asymmetry example}

  \begin{columns}
    \begin{column}{0.5\textwidth}

      \only<1>{\image{asymmetry-example-angular-acceptance}}
      \only<2>{\image{asymmetry-example-steamshovel}}

    \end{column}
    \begin{column}{0.5\textwidth}

      For each angle $\eta$, shoot photons from planes onto the DOM and count hits.
      \small{Hole-ice radius: 30\cm}

      \begin{equation*}\begin{align}
        \lambda_\text{sca,hole-ice} &= \frac{1}{10}\, & \lambda_\text{sca,bulk} \\
        \lambda_\text{abs,hole-ice} &= & \lambda_\text{sca,bulk}
      \end{align}\end{equation*}

      The \textbf{hole-ice is shifted in x-direction against the DOM} position by 20\cm.

      \begin{onlyenv}<1>
        \begin{smallbash}
          $ICESIM/env-shell.sh
          cd $HOLE_ICE_STUDY/scripts/AngularAcceptance
          ./run.rb --scattering-factor=0.1 --absorption-factor=1.0 --distance=1.0 --plane-wave --number-of-photons=1e5 --angles=0,10,20,30,40,50,60,70,90,120,140,150,160,170,190,200,210,220, 240,260,270,290,300,310,320,330,340,350 --number-of-runs=2 --number-of-parallel-runs=2 --cylinder-shift=0.2
          open results/current/plot_with_reference.png
        \end{smallbash}
      \end{onlyenv}

      \begin{onlyenv}<2>
        \begin{bash}
          $ICESIM/env-shell.sh
          cd $HOLE_ICE_STUDY/scripts/AngularAcceptance
          ./run.rb --scattering-factor=0.1 --absorption-factor=1.0 --distance=1.0 --plane-wave --number-of-photons=1e2 --cylinder-shift=0.2 --save-photon-paths --cpu
          steamshovel tmp/propagated_photons.i3
        \end{bash}
      \end{onlyenv}

    \end{column}
  \end{columns}

  \source{\url{https://github.com/fiedl/hole-ice-study#asymmetry-example}}

\end{frame}

\note[itemize]{
  \item In data points, one sees upper curve and lower curve.
  \item Because of the asymmetry, on one way, the distance through the hole ice is smaller, on the other way, larger.
}